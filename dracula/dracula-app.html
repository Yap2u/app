<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Birth of Dracula - Gothic Literature Mystery</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Gothic', 'Times New Roman', serif;
            background: linear-gradient(135deg, #0d0208 0%, #1a0b14 50%, #2d1b2e 100%);
            color: #f8f8ff;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }
        
        .gothic-bg {
            background: linear-gradient(135deg, #0d0208 0%, #1a0b14 50%, #2d1b2e 100%);
            position: relative;
        }
        
        .gothic-gradient {
            background: linear-gradient(45deg, #0d0208, #1a0b14, #2d1b2e, #3c1f41);
            background-size: 400% 400%;
            animation: gothic-flow 12s ease-in-out infinite;
            position: relative;
        }
        
        .gothic-gradient::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="gothic" width="50" height="50" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="%23ffffff" opacity="0.03"/><circle cx="10" cy="40" r="0.5" fill="%23cc6666" opacity="0.05"/><circle cx="40" cy="10" r="0.8" fill="%23ffffff" opacity="0.02"/></pattern></defs><rect width="100" height="100" fill="url(%23gothic)"/></svg>');
            animation: mist 25s linear infinite;
            pointer-events: none;
        }
        
        @keyframes gothic-glow {
            0%, 100% { box-shadow: 0 0 20px rgba(204, 102, 102, 0.3), 0 0 40px rgba(139, 0, 0, 0.2); }
            50% { box-shadow: 0 0 30px rgba(204, 102, 102, 0.6), 0 0 60px rgba(139, 0, 0, 0.4); }
        }
        
        @keyframes gothic-flow {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        @keyframes mist {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            25% { transform: translate(-2px, -2px) rotate(1deg); }
            50% { transform: translate(-4px, 2px) rotate(-1deg); }
            75% { transform: translate(2px, -4px) rotate(1deg); }
        }
        
        @keyframes blood-drip {
            0% { transform: translateY(-5px); opacity: 0.8; }
            100% { transform: translateY(5px); opacity: 1; }
        }
        
        .glass-card {
            background: rgba(139, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(204, 102, 102, 0.2);
            border-radius: 15px;
        }
        
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(139, 0, 0, 0.2);
            color: #f8f8ff;
            border: 1px solid rgba(204, 102, 102, 0.3);
            font-family: 'Gothic', serif;
        }
        
        .btn:hover {
            background: rgba(139, 0, 0, 0.4);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(139, 0, 0, 0.5);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #8b0000, #cc6666);
            border-color: #8b0000;
            color: white;
        }
        
        .btn-success {
            background: linear-gradient(135deg, #1a5d1a, #2d8b2d);
            border-color: #1a5d1a;
            color: white;
        }
        
        .btn-danger {
            background: linear-gradient(135deg, #8b0000, #dc143c);
            border-color: #8b0000;
            color: white;
        }
        
        .btn-gothic {
            background: linear-gradient(135deg, #2d1b2e, #4a2c4a);
            border-color: #2d1b2e;
            color: white;
        }
        
        .card {
            background: rgba(13, 2, 8, 0.7);
            border: 1px solid rgba(204, 102, 102, 0.3);
            border-radius: 12px;
            padding: 24px;
            margin: 16px 0;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.8);
        }
        
        .card:hover {
            border-color: rgba(204, 102, 102, 0.5);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(139, 0, 0, 0.4);
        }
        
        .card-mystery {
            background: linear-gradient(135deg, rgba(139, 0, 0, 0.2), rgba(204, 102, 102, 0.2));
            border-color: #8b0000;
            animation: gothic-glow 4s ease-in-out infinite;
        }
        
        .card-gothic {
            background: linear-gradient(135deg, rgba(45, 27, 46, 0.2), rgba(74, 44, 74, 0.2));
            border-color: #2d1b2e;
        }
        
        .card-literary {
            background: linear-gradient(135deg, rgba(26, 11, 20, 0.2), rgba(60, 31, 65, 0.2));
            border-color: #1a0b14;
        }
        
        .card-writing {
            background: linear-gradient(135deg, rgba(13, 2, 8, 0.3), rgba(26, 11, 20, 0.3));
            border-color: #0d0208;
        }
        
        .badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: bold;
            display: inline-block;
        }
        
        .badge-success {
            background: linear-gradient(135deg, #1a5d1a, #2d8b2d);
            color: white;
        }
        
        .badge-error {
            background: linear-gradient(135deg, #8b0000, #dc143c);
            color: white;
        }
        
        .badge-info {
            background: linear-gradient(135deg, #2d1b2e, #4a2c4a);
            color: white;
        }
        
        .badge-gothic {
            background: linear-gradient(135deg, #8b0000, #cc6666);
            color: white;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .grid {
            display: grid;
            gap: 24px;
        }
        
        .grid-cols-2 {
            grid-template-columns: 1fr 1fr;
        }
        
        .grid-cols-1 {
            grid-template-columns: 1fr;
        }
        
        @media (min-width: 768px) {
            .grid-cols-2 {
                grid-template-columns: 1fr 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            .grid-cols-2 {
                grid-template-columns: 1fr;
            }
        }
        
        .text-center { text-align: center; }
        .text-white { color: #f8f8ff; }
        .text-blood { color: #cc6666; }
        .text-red { color: #dc143c; }
        .text-gothic { color: #cc6666; }
        .text-lg { font-size: 1.125rem; }
        .text-xl { font-size: 1.25rem; }
        .text-2xl { font-size: 1.5rem; }
        .text-3xl { font-size: 1.875rem; }
        .text-4xl { font-size: 2.25rem; }
        .text-6xl { font-size: 3.75rem; }
        .font-bold { font-weight: bold; }
        .mb-2 { margin-bottom: 0.5rem; }
        .mb-4 { margin-bottom: 1rem; }
        .mb-6 { margin-bottom: 1.5rem; }
        .mb-8 { margin-bottom: 2rem; }
        .mb-12 { margin-bottom: 3rem; }
        .mt-4 { margin-top: 1rem; }
        .mt-6 { margin-top: 1.5rem; }
        .p-4 { padding: 1rem; }
        .p-6 { padding: 1.5rem; }
        .py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; }
        .py-4 { padding-top: 1rem; padding-bottom: 1rem; }
        .py-8 { padding-top: 2rem; padding-bottom: 2rem; }
        .py-12 { padding-top: 3rem; padding-bottom: 3rem; }
        .px-4 { padding-left: 1rem; padding-right: 1rem; }
        .flex { display: flex; }
        .items-center { align-items: center; }
        .justify-center { justify-content: center; }
        .justify-between { justify-content: space-between; }
        .justify-start { justify-content: flex-start; }
        .gap-2 { gap: 0.5rem; }
        .gap-3 { gap: 0.75rem; }
        .gap-4 { gap: 1rem; }
        .gap-6 { gap: 1.5rem; }
        .w-4 { width: 1rem; }
        .w-5 { width: 1.25rem; }
        .w-6 { width: 1.5rem; }
        .w-full { width: 100%; }
        .h-4 { height: 1rem; }
        .h-5 { height: 1.25rem; }
        .h-6 { height: 1.5rem; }
        .space-y-3 > * + * { margin-top: 0.75rem; }
        .opacity-70 { opacity: 0.7; }
        .opacity-80 { opacity: 0.8; }
        .opacity-90 { opacity: 0.9; }
        .flex-wrap { flex-wrap: wrap; }
        
        .fade-in {
            animation: fadeIn 1s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        textarea {
            width: 100%;
            min-height: 120px;
            padding: 12px;
            border: 2px solid rgba(204, 102, 102, 0.3);
            border-radius: 8px;
            background: rgba(13, 2, 8, 0.5);
            color: #f8f8ff;
            font-family: 'Gothic', serif;
            font-size: 1rem;
            line-height: 1.5;
            resize: vertical;
            transition: border-color 0.3s ease;
        }
        
        textarea:focus {
            outline: none;
            border-color: rgba(204, 102, 102, 0.6);
            box-shadow: 0 0 0 3px rgba(139, 0, 0, 0.2);
        }
        
        textarea::placeholder {
            color: rgba(248, 248, 255, 0.5);
        }
        
        .writing-prompt {
            background: linear-gradient(135deg, rgba(26, 11, 20, 0.4), rgba(45, 27, 46, 0.4));
            border: 2px solid rgba(139, 0, 0, 0.4);
            border-radius: 12px;
            padding: 20px;
            margin: 16px 0;
        }
        
        .word-count {
            font-size: 0.875rem;
            color: rgba(248, 248, 255, 0.7);
            text-align: right;
            margin-top: 8px;
        }
        
        .gothic-title {
            font-family: 'Gothic', serif;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8), 0 0 20px rgba(204,102,102,0.5);
            letter-spacing: 3px;
        }
        
        .randomize-notice {
            background: linear-gradient(135deg, rgba(139, 0, 0, 0.2), rgba(204, 102, 102, 0.1));
            border: 1px solid rgba(204, 102, 102, 0.4);
            border-radius: 8px;
            padding: 12px;
            margin: 12px 0;
            font-style: italic;
            color: #cc6666;
        }
    </style>
</head>
<body class="gothic-bg">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const { createRoot } = ReactDOM;

        // Icon components for Gothic Theme
        const Moon = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
            </svg>
        );

        const BookOpen = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
            </svg>
        );

        const Feather = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
            </svg>
        );

        const Eye = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
            </svg>
        );

        const PlayCircle = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
        );

        const CheckCircle = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
        );

        const XCircle = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
        );

        const RotateCcw = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6" />
            </svg>
        );

        const Shuffle = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M16 4v4h4m0 0l-4-4m4 4l-4 4m-8 8V4m0 12h8" />
            </svg>
        );

        // Utility function to shuffle array
        const shuffleArray = (array) => {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        };

        // Main Dracula Gothic Literature Component
        const DraculaGothicApp = ({ onComplete, isCompleted }) => {
            const [currentMode, setCurrentMode] = useState('video');
            const [hasWatchedVideo, setHasWatchedVideo] = useState(false);
            const [hasRead, setHasRead] = useState(false);
            const [exerciseOrder, setExerciseOrder] = useState(['comprehension', 'literary', 'writing']);
            const [currentExerciseIndex, setCurrentExerciseIndex] = useState(0);
            const [completedExercises, setCompletedExercises] = useState(new Set());
            const [selectedAnswers, setSelectedAnswers] = useState({});
            const [showResults, setShowResults] = useState({});
            const [scores, setScores] = useState({});
            const [isFinished, setIsFinished] = useState(false);
            const [writingSubmissions, setWritingSubmissions] = useState({});

            // Randomize exercises after video
            useEffect(() => {
                if (hasWatchedVideo && hasRead) {
                    const exercises = ['comprehension', 'literary', 'writing'];
                    setExerciseOrder(shuffleArray(exercises));
                }
            }, [hasWatchedVideo, hasRead]);

            const draculaArticle = `The Birth of Dracula: How Bram Stoker Created Literature's Most Famous Vampire

In the shadowy realm of Gothic literature, few characters have achieved the immortal status of Count Dracula. Created by Irish author Bram Stoker in 1897, Dracula has transcended its literary origins to become a cultural icon that continues to fascinate and terrify audiences more than a century after its publication.

Abraham "Bram" Stoker was born in Dublin, Ireland, in 1847. Despite a sickly childhood that confined him to bed for much of his early years, Stoker developed a passionate love for literature and storytelling. His mother, Charlotte Stoker, would regale him with dark Irish folktales and legends, planting the seeds for his future Gothic masterpiece.

The inspiration for Dracula came from multiple sources that Stoker wove together into his haunting narrative. The character was primarily based on Vlad III, also known as Vlad the Impaler or Vlad Dracula, a 15th-century Wallachian prince famous for his brutal methods of execution. Stoker researched extensively at the British Museum, studying historical accounts, folklore, and superstitions about vampires from Eastern European cultures.

Stoker's creation was also influenced by earlier vampire literature, particularly "The Vampyre" by John Polidori (1819) and "Carmilla" by Sheridan Le Fanu (1872). However, Stoker's genius lay in combining these influences with contemporary Victorian anxieties about foreign invasion, disease, and the changing role of women in society.

The novel's structure was revolutionary for its time. Stoker employed multiple narrative techniques, including diary entries, letters, newspaper clippings, and ship's logs, to create a sense of authenticity and immediacy. This epistolary format allowed readers to experience the horror through different perspectives, making the supernatural elements more believable and terrifying.

Count Dracula himself represents the ultimate Victorian nightmare: a foreign aristocrat who threatens British society from within. He possesses supernatural powers including shape-shifting, superhuman strength, and immortality, yet he is bound by specific limitations such as inability to cross running water and vulnerability to crucifixes and garlic. These constraints make him both terrifying and defeatable, creating the perfect antagonist.

The novel explores themes that were particularly relevant to Victorian society. The fear of foreign influence reflected anxieties about immigration and cultural change. Dracula's parasitic nature symbolized concerns about disease and contamination, while his seductive power over women challenged traditional Victorian notions of female purity and virtue.

Stoker's meticulous research extended beyond historical sources. He studied the geography of Transylvania, consulted maps and travel guides, and drew upon his friend Arminius Vámbéry's knowledge of Hungarian folklore. This attention to detail created a convincing backdrop for his supernatural tale, making the fictional world feel tangible and real.

The character of Van Helsing, the vampire hunter who opposes Dracula, represents the triumph of science and reason over superstition and evil. Armed with both ancient knowledge and modern medical expertise, Van Helsing embodies the Victorian belief in progress and the power of human knowledge to overcome any threat.

The novel's sexual undertones were groundbreaking for Victorian literature. Dracula's biting of his victims was a barely disguised metaphor for sexual seduction and violation, challenging the repressive moral standards of the era. The transformation of pure women like Lucy Westenra into vampiric seductresses explored themes of fallen femininity and sexual liberation.

Stoker's writing style combined Gothic romance with elements of detective fiction and adventure stories. The pacing builds tension gradually, with mysterious occurrences and unexplained events creating an atmosphere of mounting dread. The author's use of dramatic irony—where readers know more than the characters—heightens the suspense and horror.

The impact of Dracula on popular culture has been immeasurable. The novel established many of the vampire tropes that persist today: aristocratic bearing, supernatural powers, vulnerability to specific objects, and the need to drink blood for survival. These elements have been adapted, reimagined, and referenced in countless books, films, television shows, and other media.

Modern adaptations have continued to find new interpretations of Stoker's creation. From Bela Lugosi's iconic film portrayal to contemporary reimaginings that explore themes of addiction, sexuality, and otherness, Dracula remains relevant to each new generation. The character serves as a mirror for society's fears and desires, adapting to reflect contemporary anxieties while maintaining its essential Gothic appeal.

The enduring popularity of Dracula speaks to Stoker's masterful creation of a character that embodies universal human fears: the fear of death, the unknown, and loss of control. By grounding supernatural horror in recognizable human emotions and social concerns, Stoker created a timeless work that continues to captivate readers and inspire creators worldwide.`;

            const comprehensionQuestions = [
                {
                    id: 1,
                    question: "When was Bram Stoker's novel 'Dracula' first published?",
                    options: ["1895", "1897", "1899", "1901"],
                    correct: "1897"
                },
                {
                    id: 2,
                    question: "Who was the historical figure that primarily inspired the Dracula character?",
                    options: ["Vlad the Impaler", "Ivan the Terrible", "Attila the Hun", "Genghis Khan"],
                    correct: "Vlad the Impaler"
                },
                {
                    id: 3,
                    question: "What narrative technique did Stoker use to tell the story?",
                    options: ["Third-person omniscient", "First-person narrative", "Multiple documents (epistolary)", "Stream of consciousness"],
                    correct: "Multiple documents (epistolary)"
                },
                {
                    id: 4,
                    question: "Where was Bram Stoker born?",
                    options: ["London, England", "Dublin, Ireland", "Edinburgh, Scotland", "Cardiff, Wales"],
                    correct: "Dublin, Ireland"
                },
                {
                    id: 5,
                    question: "Who is the vampire hunter character that opposes Dracula?",
                    options: ["Jonathan Harker", "Arthur Holmwood", "Van Helsing", "John Seward"],
                    correct: "Van Helsing"
                },
                {
                    id: 6,
                    question: "What earlier vampire story influenced Stoker's work?",
                    options: ["Frankenstein", "Carmilla", "The Strange Case of Dr. Jekyll and Mr. Hyde", "The Picture of Dorian Gray"],
                    correct: "Carmilla"
                }
            ];

            const literaryAnalysisQuestions = [
                {
                    id: 1,
                    question: "What does Dracula symbolize in Victorian society according to the article?",
                    options: ["Scientific progress", "Foreign invasion and cultural threat", "Religious salvation", "Industrial advancement"],
                    correct: "Foreign invasion and cultural threat"
                },
                {
                    id: 2,
                    question: "What literary genres does Stoker combine in Dracula?",
                    options: ["Romance and comedy", "Gothic romance, detective fiction, and adventure", "Science fiction and fantasy", "Historical drama and biography"],
                    correct: "Gothic romance, detective fiction, and adventure"
                },
                {
                    id: 3,
                    question: "What does Van Helsing represent in the novel?",
                    options: ["Ancient superstition", "The triumph of science and reason", "Religious fanaticism", "Foreign corruption"],
                    correct: "The triumph of science and reason"
                },
                {
                    id: 4,
                    question: "What Victorian anxieties does the novel explore?",
                    options: ["Only supernatural fears", "Immigration, disease, and changing women's roles", "Economic depression", "Technological advancement"],
                    correct: "Immigration, disease, and changing women's roles"
                },
                {
                    id: 5,
                    question: "How does Stoker make the supernatural elements believable?",
                    options: ["By using scientific explanations", "Through detailed research and authentic documentation style", "By setting it in modern times", "Through comic relief"],
                    correct: "Through detailed research and authentic documentation style"
                }
            ];

            const writingPrompts = [
                {
                    id: 1,
                    title: "Gothic Atmosphere Analysis",
                    prompt: "Write a 150-200 word analysis of how Bram Stoker creates a Gothic atmosphere in Dracula. Consider the setting, characters, and themes mentioned in the article. Use specific examples to support your analysis.",
                    minWords: 150,
                    maxWords: 200
                },
                {
                    id: 2,
                    title: "Character Symbolism Essay",
                    prompt: "In 120-180 words, explain what Count Dracula symbolizes in Victorian society. Discuss how the character reflects the fears and anxieties of the time period, using evidence from the article.",
                    minWords: 120,
                    maxWords: 180
                },
                {
                    id: 3,
                    title: "Modern Adaptation Proposal",
                    prompt: "Write a 100-150 word proposal for a modern adaptation of Dracula. Explain how you would update the story for contemporary audiences while maintaining the Gothic themes. What current social anxieties might your version explore?",
                    minWords: 100,
                    maxWords: 150
                }
            ];

            const handleModeChange = (newMode) => {
                if (newMode === 'read') {
                    setHasRead(true);
                } else if (newMode === 'exercises' && hasWatchedVideo && hasRead) {
                    setCurrentMode('exercises');
                }
                else {
                    setCurrentMode(newMode);
                }
            };

            const handleVideoEnd = () => {
                setHasWatchedVideo(true);
            };

            const handleAnswerSelect = (exerciseType, questionId, answer) => {
                if (showResults[exerciseType]) return;
                setSelectedAnswers(prev => ({
                    ...prev,
                    [exerciseType]: {
                        ...prev[exerciseType],
                        [questionId]: answer
                    }
                }));
            };

            const checkAnswers = (exerciseType, questions) => {
                let correctCount = 0;
                const answers = selectedAnswers[exerciseType] || {};
                questions.forEach(question => {
                    if (answers[question.id] === question.correct) {
                        correctCount++;
                    }
                });
                
                setScores(prev => ({
                    ...prev,
                    [exerciseType]: correctCount
                }));
                
                setShowResults(prev => ({
                    ...prev,
                    [exerciseType]: true
                }));
                
                setCompletedExercises(prev => new Set([...prev, exerciseType]));
            };

            const nextExercise = () => {
                if (currentExerciseIndex < exerciseOrder.length - 1) {
                    setCurrentExerciseIndex(currentExerciseIndex + 1);
                } else {
                    setIsFinished(true);
                }
            };

            const resetExercises = () => {
                setSelectedAnswers({});
                setShowResults({});
                setScores({});
                setCompletedExercises(new Set());
                setCurrentExerciseIndex(0);
                setIsFinished(false);
                setCurrentMode('video');
                // Re-randomize exercises
                const exercises = ['comprehension', 'literary', 'writing'];
                setExerciseOrder(shuffleArray(exercises));
            };

            const getWordCount = (text) => {
                return text.trim().split(/\s+/).filter(word => word.length > 0).length;
            };

            const canProceedToExercises = hasWatchedVideo && hasRead;
            const currentExercise = exerciseOrder[currentExerciseIndex];

            return (
                <div className="fade-in">
                    <div className="card">
                        <h2 className="text-3xl font-bold text-blood mb-6 text-center gothic-title">
                            🧛‍♂️ The Birth of Dracula Mystery
                        </h2>
                        <p className="text-white opacity-90 mb-6 text-center">Gothic Literature & Victorian Horror Case Study</p>
                        
                        {/* Mode Selection */}
                        <div className="flex justify-center gap-4 mb-6 flex-wrap">
                            <button 
                                className={`btn ${currentMode === 'video' ? 'btn-primary' : ''}`}
                                onClick={() => handleModeChange('video')}
                            >
                                <PlayCircle className="w-4 h-4" />
                                Watch Documentary
                            </button>
                            <button 
                                className={`btn ${currentMode === 'read' ? 'btn-primary' : ''} ${!hasWatchedVideo ? 'opacity-50' : ''}`}
                                onClick={() => handleModeChange('read')}
                                disabled={!hasWatchedVideo}
                            >
                                <BookOpen className="w-4 h-4" />
                                Read Gothic Text
                            </button>
                            <button 
                                className={`btn ${currentMode === 'exercises' ? 'btn-primary' : ''} ${!canProceedToExercises ? 'opacity-50' : ''}`}
                                onClick={() => handleModeChange('exercises')}
                                disabled={!canProceedToExercises}
                            >
                                <Eye className="w-4 h-4" />
                                Mystery Exercises
                            </button>
                        </div>

                        {/* Progress Indicators */}
                        <div className="flex justify-center gap-4 mb-6">
                            {hasWatchedVideo && <div className="badge badge-success">Documentary Watched</div>}
                            {hasRead && <div className="badge badge-success">Gothic Text Read</div>}
                            {canProceedToExercises && (
                                <div className="badge badge-gothic">
                                    <Shuffle className="w-4 h-4 mr-1" />
                                    Exercises Randomized
                                </div>
                            )}
                            {completedExercises.size > 0 && (
                                <div className="badge badge-info">
                                    Completed: {completedExercises.size}/3
                                </div>
                            )}
                        </div>

                        {/* Randomization Notice */}
                        {canProceedToExercises && currentMode === 'exercises' && (
                            <div className="randomize-notice">
                                🎲 Mysterious forces have shuffled your exercises! Current order: {exerciseOrder.map(e => 
                                    e.charAt(0).toUpperCase() + e.slice(1)).join(' → ')}
                            </div>
                        )}

                        {/* Video Mode */}
                        {currentMode === 'video' && (
                            <div className="card-mystery">
                                <h3 className="text-xl font-bold text-white mb-4">🎥 Gothic Literature Documentary</h3>
                                <p className="text-white opacity-90 mb-4">Explore the dark origins of vampire literature and Bram Stoker's masterpiece.</p>
                                <div style={{
                                    position: 'relative',
                                    paddingBottom: '33.75%',
                                    height: 0,
                                    overflow: 'hidden',
                                    marginBottom: '1.5rem',
                                    borderRadius: '8px',
                                    boxShadow: '0 4px 8px rgba(139,0,0,0.5)',
                                    maxWidth: '800px',
                                    width: '100%',
                                    margin: '0 auto 1.5rem auto'
                                }}>
                                    <iframe
                                        style={{
                                            position: 'absolute',
                                            top: 0,
                                            left: 0,
                                            width: '100%',
                                            height: '100%',
                                            border: 'none'
                                        }}
                                        src="https://www.youtube.com/embed/7uiyz3139tE"
                                        title="Dracula Gothic Literature Documentary"
                                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                        allowFullScreen
                                        onLoad={handleVideoEnd}
                                    ></iframe>
                                </div>
                                <div className="text-center">
                                    <button 
                                        className="btn btn-success"
                                        onClick={() => {
                                            handleVideoEnd();
                                        }}
                                    >
                                        ✅ Mark Documentary as Watched
                                    </button>
                                </div>
                            </div>
                        )}

                        {/* Read Gothic Text Mode */}
                        {currentMode === 'read' && (
                            <div className="card-gothic">
                                <h3 className="text-xl font-bold text-white mb-4">📚 Gothic Literature Analysis</h3>
                                <p className="text-white opacity-90 mb-4">Read this scholarly analysis of Dracula's creation and cultural impact.</p>
                                <div className="card" style={{
                                    maxHeight: '400px',
                                    overflowY: 'auto',
                                    fontSize: '0.95rem',
                                    lineHeight: '1.6'
                                }}>
                                    <div className="text-white opacity-90" style={{whiteSpace: 'pre-line'}}>
                                        {draculaArticle}
                                    </div>
                                </div>
                                <div className="text-center mt-4">
                                    <button 
                                        className="btn btn-success"
                                        onClick={() => {
                                            setHasRead(true);
                                        }}
                                    >
                                        Mark Reading Complete
                                    </button>
                                </div>
                            </div>
                        )}

                        {/* Randomized Exercises Mode */}
                        {currentMode === 'exercises' && !isFinished && (
                            <div className="card-literary">
                                <h3 className="text-xl font-bold text-white mb-6">
                                    🕯️ Exercise {currentExerciseIndex + 1} of 3: {currentExercise.charAt(0).toUpperCase() + currentExercise.slice(1)}
                                </h3>
                                
                                {/* Comprehension Questions */}
                                {currentExercise === 'comprehension' && (
                                    <div>
                                        <h4 className="text-lg font-bold text-blood mb-4">Basic Comprehension Quiz</h4>
                                        <p className="text-white opacity-90 mb-6">Test your understanding of the Dracula article.</p>
                                        
                                        <div className="space-y-4">
                                            {comprehensionQuestions.map((question, index) => (
                                                <div key={question.id} className="card">
                                                    <h5 className="text-lg font-bold text-white mb-4">
                                                        Question {index + 1}: {question.question}
                                                    </h5>
                                                    <div className="space-y-3">
                                                        {question.options.map((option, optionIndex) => {
                                                            const letter = String.fromCharCode(65 + optionIndex);
                                                            const isSelected = selectedAnswers.comprehension?.[question.id] === option;
                                                            const isCorrect = option === question.correct;
                                                            const showResult = showResults.comprehension;
                                                            
                                                            return (
                                                                <button
                                                                    key={optionIndex}
                                                                    className={`btn w-full text-left justify-start ${
                                                                        isSelected ? 'btn-primary' : ''
                                                                    } ${showResult ? (
                                                                        isCorrect ? 'btn-success' : 
                                                                        isSelected ? 'btn-danger' : ''
                                                                    ) : ''}`}
                                                                    onClick={() => handleAnswerSelect('comprehension', question.id, option)}
                                                                    disabled={showResult}
                                                                >
                                                                    <span className="font-bold mr-3">{letter}.</span>
                                                                    {option}
                                                                </button>
                                                            );
                                                        })}
                                                    </div>
                                                    {showResults.comprehension && (
                                                        <div className="mt-3 text-white opacity-80 text-sm">
                                                            {selectedAnswers.comprehension?.[question.id] === question.correct ? 
                                                                <div className="flex items-center text-green-400">
                                                                    <CheckCircle className="w-4 h-4 mr-2" />
                                                                    Correct!
                                                                </div> : 
                                                                <div className="flex items-center text-red-400">
                                                                    <XCircle className="w-4 h-4 mr-2" />
                                                                    Incorrect. The correct answer is: {question.correct}
                                                                </div>
                                                            }
                                                        </div>
                                                    )}
                                                </div>
                                            ))}
                                        </div>

                                        <div className="flex justify-between items-center mt-6">
                                            {!showResults.comprehension && (
                                                <button 
                                                    className="btn btn-primary" 
                                                    onClick={() => checkAnswers('comprehension', comprehensionQuestions)}
                                                    disabled={Object.keys(selectedAnswers.comprehension || {}).length < comprehensionQuestions.length}
                                                >
                                                    Submit Comprehension Quiz
                                                </button>
                                            )}
                                            {showResults.comprehension && (
                                                <div className="flex items-center gap-4">
                                                    <div className="badge badge-success">
                                                        Score: {scores.comprehension}/{comprehensionQuestions.length}
                                                    </div>
                                                    <button className="btn btn-gothic" onClick={nextExercise}>
                                                        Continue to Next Mystery →
                                                    </button>
                                                </div>
                                            )}
                                        </div>
                                    </div>
                                )}

                                {/* Literary Analysis Questions */}
                                {currentExercise === 'literary' && (
                                    <div>
                                        <h4 className="text-lg font-bold text-blood mb-4">Literary Analysis Challenge</h4>
                                        <p className="text-white opacity-90 mb-6">Analyze the deeper meanings and themes in Gothic literature.</p>
                                        
                                        <div className="space-y-4">
                                            {literaryAnalysisQuestions.map((question, index) => (
                                                <div key={question.id} className="card">
                                                    <h5 className="text-lg font-bold text-white mb-4">
                                                        Analysis {index + 1}: {question.question}
                                                    </h5>
                                                    <div className="space-y-3">
                                                        {question.options.map((option, optionIndex) => {
                                                            const letter = String.fromCharCode(65 + optionIndex);
                                                            const isSelected = selectedAnswers.literary?.[question.id] === option;
                                                            const isCorrect = option === question.correct;
                                                            const showResult = showResults.literary;
                                                            
                                                            return (
                                                                <button
                                                                    key={optionIndex}
                                                                    className={`btn w-full text-left justify-start ${
                                                                        isSelected ? 'btn-primary' : ''
                                                                    } ${showResult ? (
                                                                        isCorrect ? 'btn-success' : 
                                                                        isSelected ? 'btn-danger' : ''
                                                                    ) : ''}`}
                                                                    onClick={() => handleAnswerSelect('literary', question.id, option)}
                                                                    disabled={showResult}
                                                                >
                                                                    <span className="font-bold mr-3">{letter}.</span>
                                                                    {option}
                                                                </button>
                                                            );
                                                        })}
                                                    </div>
                                                    {showResults.literary && (
                                                        <div className="mt-3 text-white opacity-80 text-sm">
                                                            {selectedAnswers.literary?.[question.id] === question.correct ? 
                                                                <div className="flex items-center text-green-400">
                                                                    <CheckCircle className="w-4 h-4 mr-2" />
                                                                    Excellent analysis!
                                                                </div> : 
                                                                <div className="flex items-center text-red-400">
                                                                    <XCircle className="w-4 h-4 mr-2" />
                                                                    Reconsider. The correct answer is: {question.correct}
                                                                </div>
                                                            }
                                                        </div>
                                                    )}
                                                </div>
                                            ))}
                                        </div>

                                        <div className="flex justify-between items-center mt-6">
                                            {!showResults.literary && (
                                                <button 
                                                    className="btn btn-primary" 
                                                    onClick={() => checkAnswers('literary', literaryAnalysisQuestions)}
                                                    disabled={Object.keys(selectedAnswers.literary || {}).length < literaryAnalysisQuestions.length}
                                                >
                                                    Submit Literary Analysis
                                                </button>
                                            )}
                                            {showResults.literary && (
                                                <div className="flex items-center gap-4">
                                                    <div className="badge badge-success">
                                                        Analysis Score: {scores.literary}/{literaryAnalysisQuestions.length}
                                                    </div>
                                                    <button className="btn btn-gothic" onClick={nextExercise}>
                                                        Continue to Final Mystery →
                                                    </button>
                                                </div>
                                            )}
                                        </div>
                                    </div>
                                )}

                                {/* Writing Exercises */}
                                {currentExercise === 'writing' && (
                                    <div>
                                        <h4 className="text-lg font-bold text-blood mb-4">Gothic Writing Challenge</h4>
                                        <p className="text-white opacity-90 mb-6">Express your understanding through Gothic-inspired writing.</p>
                                        
                                        <div className="space-y-6">
                                            {writingPrompts.map((prompt, index) => (
                                                <div key={prompt.id} className="writing-prompt">
                                                    <h5 className="text-lg font-bold text-white mb-3">
                                                        Gothic Writing {index + 1}: {prompt.title}
                                                    </h5>
                                                    <p className="text-white opacity-90 mb-4">
                                                        {prompt.prompt}
                                                    </p>
                                                    <div className="mb-2">
                                                        <span className="text-sm text-white opacity-70">
                                                            Word count requirement: {prompt.minWords}-{prompt.maxWords} words
                                                        </span>
                                                    </div>
                                                    <textarea
                                                        placeholder={`Write your ${prompt.title.toLowerCase()} here...`}
                                                        value={writingSubmissions[prompt.id] || ''}
                                                        onChange={(e) => {
                                                            const text = e.target.value;
                                                            setWritingSubmissions(prev => ({
                                                                ...prev,
                                                                [prompt.id]: text
                                                            }));
                                                        }}
                                                    />
                                                    <div className="word-count">
                                                        {writingSubmissions[prompt.id] ? (
                                                            <>
                                                                Words: {getWordCount(writingSubmissions[prompt.id])}
                                                                {getWordCount(writingSubmissions[prompt.id]) >= prompt.minWords && 
                                                                 getWordCount(writingSubmissions[prompt.id]) <= prompt.maxWords && (
                                                                    <span className="text-blood ml-2">✓ Perfect word count</span>
                                                                )}
                                                                {getWordCount(writingSubmissions[prompt.id]) < prompt.minWords && (
                                                                    <span className="text-red ml-2">Need {prompt.minWords - getWordCount(writingSubmissions[prompt.id])} more words</span>
                                                                )}
                                                                {getWordCount(writingSubmissions[prompt.id]) > prompt.maxWords && (
                                                                    <span className="text-red ml-2">Exceeded by {getWordCount(writingSubmissions[prompt.id]) - prompt.maxWords} words</span>
                                                                )}
                                                            </>
                                                        ) : (
                                                            'Words: 0'
                                                        )}
                                                    </div>
                                                </div>
                                            ))}
                                        </div>

                                        <div className="text-center mt-6">
                                            <button 
                                                className="btn btn-gothic text-lg px-8 py-3"
                                                onClick={() => {
                                                    const completedWriting = writingPrompts.filter(prompt => {
                                                        const submission = writingSubmissions[prompt.id];
                                                        if (!submission) return false;
                                                        const wordCount = getWordCount(submission);
                                                        return wordCount >= prompt.minWords && wordCount <= prompt.maxWords;
                                                    }).length;
                                                    
                                                    setScores(prev => ({
                                                        ...prev,
                                                        writing: completedWriting
                                                    }));
                                                    
                                                    setCompletedExercises(prev => new Set([...prev, 'writing']));
                                                    nextExercise();
                                                }}
                                                disabled={writingPrompts.filter(prompt => {
                                                    const submission = writingSubmissions[prompt.id];
                                                    if (!submission) return false;
                                                    const wordCount = getWordCount(submission);
                                                    return wordCount >= prompt.minWords && wordCount <= prompt.maxWords;
                                                }).length === 0}
                                            >
                                                Complete Gothic Writing Challenge →
                                            </button>
                                        </div>
                                    </div>
                                )}
                            </div>
                        )}

                        {/* Final Results */}
                        {isFinished && (
                            <div className="card-mystery text-center">
                                <h3 className="text-2xl font-bold text-blood mb-4 gothic-title">🧛‍♂️ Gothic Mystery Solved!</h3>
                                <p className="text-white mb-4">
                                    You have successfully unraveled the mysteries of Dracula's creation and Gothic literature.
                                </p>
                                <div className="flex justify-center gap-4 mb-6">
                                    <div className="badge badge-success text-lg">
                                        Comprehension: {scores.comprehension || 0}/{comprehensionQuestions.length}
                                    </div>
                                    <div className="badge badge-success text-lg">
                                        Literary Analysis: {scores.literary || 0}/{literaryAnalysisQuestions.length}
                                    </div>
                                    <div className="badge badge-success text-lg">
                                        Writing: {scores.writing || 0}/{writingPrompts.length}
                                    </div>
                                </div>
                                <div className="badge badge-gothic text-xl mb-6">
                                    Total Score: {(scores.comprehension || 0) + (scores.literary || 0) + (scores.writing || 0)}/
                                    {comprehensionQuestions.length + literaryAnalysisQuestions.length + writingPrompts.length}
                                </div>
                                <p className="text-white opacity-80 mb-6">
                                    The shadows have revealed their secrets. You have mastered the Gothic arts.
                                </p>
                                <div className="flex justify-center gap-4">
                                    <button 
                                        className="btn btn-gothic text-lg px-8 py-3"
                                        onClick={() => {
                                            const totalScore = (scores.comprehension || 0) + (scores.literary || 0) + (scores.writing || 0);
                                            console.log('Dracula Gothic study completed with score:', totalScore);
                                            if (onComplete) onComplete(totalScore);
                                        }}
                                    >
                                        Enter the Hall of Gothic Masters →
                                    </button>
                                    <button 
                                        className="btn btn-primary"
                                        onClick={resetExercises}
                                    >
                                        <RotateCcw className="w-4 h-4" />
                                        Face the Mystery Again
                                    </button>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        // Component: IntroPage
        const IntroPage = ({ onComplete }) => {
            const [countdown, setCountdown] = useState(10);
            
            useEffect(() => {
                const timer = setInterval(() => {
                    setCountdown(prev => {
                        if (prev <= 1) {
                            clearInterval(timer);
                            onComplete();
                            return 0;
                        }
                        return prev - 1;
                    });
                }, 1000);
                
                return () => clearInterval(timer);
            }, [onComplete]);

            return (
                <div className="gothic-bg gothic-gradient min-h-screen relative overflow-hidden">
                    {/* Fun Background Animation */}
                    <div 
                        className="absolute inset-0 bg-cover bg-center bg-no-repeat opacity-40"
                        style={{
                            backgroundImage: `url('data:image/svg+xml,${encodeURIComponent(`
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800">
                                    <defs>
                                        <radialGradient id="spotlight" cx="50%" cy="30%" r="60%">
                                            <stop offset="0%" style="stop-color:#cc6666;stop-opacity:0.4"/>
                                            <stop offset="100%" style="stop-color:#8b0000;stop-opacity:0.8"/>
                                        </radialGradient>
                                    </defs>
                                    <rect width="100%" height="100%" fill="url(#spotlight)"/>
                                    <g opacity="0.8">
                                        <!-- Gothic castle -->
                                        <rect x="400" y="200" width="400" height="300" fill="#2d1b2e" stroke="#1a0b14" stroke-width="4"/>
                                        <polygon points="380,200 600,150 820,200" fill="#1a0b14"/>
                                        <rect x="450" y="250" width="60" height="120" fill="#0d0208"/>
                                        <rect x="530" y="230" width="80" height="100" fill="#0d0208"/>
                                        <rect x="640" y="250" width="60" height="120" fill="#0d0208"/>
                                        <polygon points="470,250 490,230 510,250" fill="#1a0b14"/>
                                        <polygon points="550,230 570,210 590,230" fill="#1a0b14"/>
                                        <polygon points="660,250 680,230 700,250" fill="#1a0b14"/>
                                        <!-- Full moon -->
                                        <circle cx="250" cy="150" r="50" fill="#f8f8ff" opacity="0.9"/>
                                        <circle cx="240" cy="140" r="8" fill="#e0e0e0" opacity="0.7"/>
                                        <circle cx="265" cy="165" r="5" fill="#e0e0e0" opacity="0.6"/>
                                        <!-- Bats -->
                                        <path d="M900 200 Q895 195 890 200 Q895 205 900 200 Q905 195 910 200 Q905 205 900 200" fill="#0d0208"/>
                                        <path d="M850 250 Q845 245 840 250 Q845 255 850 250 Q855 245 860 250 Q855 255 850 250" fill="#0d0208"/>
                                        <path d="M950 300 Q945 295 940 300 Q945 305 950 300 Q955 295 960 300 Q955 305 950 300" fill="#0d0208"/>
                                        <!-- Gothic windows with red glow -->
                                        <rect x="470" y="280" width="20" height="40" fill="#8b0000" opacity="0.8"/>
                                        <rect x="550" y="260" width="20" height="40" fill="#8b0000" opacity="0.8"/>
                                        <rect x="660" y="280" width="20" height="40" fill="#8b0000" opacity="0.8"/>
                                        <!-- Old book -->
                                        <rect x="150" y="600" width="100" height="70" fill="#8b4513" stroke="#654321" stroke-width="2"/>
                                        <text x="200" y="620" font-family="serif" font-size="12" fill="#f8f8ff" text-anchor="middle">DRACULA</text>
                                        <text x="200" y="635" font-family="serif" font-size="10" fill="#cc6666" text-anchor="middle">by Bram Stoker</text>
                                        <text x="200" y="650" font-family="serif" font-size="8" fill="#f8f8ff" text-anchor="middle">1897</text>
                                    </g>
                                </svg>
                            `)}')`
                        }}
                    />

                    {/* Content */}
                    <div className="relative z-10 flex flex-col items-center justify-center min-h-screen text-center px-8">
                        <div className="max-w-4xl mx-auto">
                            <h1 className="text-7xl font-bold text-red-400 mb-6 tracking-wider gothic-title" style={{
                                textShadow: '3px 3px 6px rgba(0,0,0,0.8), 0 0 20px rgba(204,102,102,0.3)'
                            }}>
                                🧛‍♂️ DRACULA MYSTERY 📚
                            </h1>
                            <h2 className="text-3xl font-bold text-white mb-8 opacity-90">
                                GOTHIC LITERATURE INVESTIGATION
                            </h2>
                            
                            <div className="glass-card p-8 mb-8" style={{
                                background: 'rgba(139, 0, 0, 0.15)',
                                backdropFilter: 'blur(10px)',
                                border: '2px solid rgba(204, 102, 102, 0.4)',
                                borderRadius: '15px'
                            }}>
                                <div className="text-red-400 text-xl font-bold mb-4">
                                    🔍 GOTHIC SCHOLAR BRIEFING 🔍
                                </div>
                                <div className="text-white text-left space-y-3 text-lg">
                                    <p><strong className="text-red-400">📅 When:</strong> 1897 - Victorian Gothic Era</p>
                                    <p><strong className="text-red-400">👤 Who:</strong> Bram Stoker, master of Gothic horror</p>
                                    <p><strong className="text-red-400">📖 What:</strong> The birth of the most famous vampire story</p>
                                    <p><strong className="text-red-400">❓ Status:</strong> Immortal literary masterpiece!</p>
                                    <p><strong className="text-red-400">🎯 Your Job:</strong> Analyze literature, explore themes, master Gothic writing!</p>
                                </div>
                            </div>

                            <div className="flex items-center justify-center gap-4 text-white text-2xl mb-6">
                                <div className="animate-bounce text-4xl">🌙</div>
                                <span>Gothic journey begins in {countdown} seconds!</span>
                                <div className="animate-bounce text-4xl">🦇</div>
                            </div>
                            
                            <div className="text-red-400 text-lg opacity-80">
                                "Enter the shadows and discover the secrets of immortal literature!"
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // Main App Component
        const App = () => {
            const [showIntro, setShowIntro] = useState(true);
            const [completedExercises, setCompletedExercises] = useState({});

            const handleExerciseComplete = (exerciseName, score) => {
                setCompletedExercises(prev => ({
                    ...prev,
                    [exerciseName]: { completed: true, score }
                }));
            };

            // Show intro page
            if (showIntro) {
                return <IntroPage onComplete={() => setShowIntro(false)} />;
            }

            return (
                <div className="gothic-gradient min-h-screen">
                    <div className="container py-12">
                        <div className="text-center mb-12">
                            <h1 className="text-6xl font-bold text-blood mb-4 gothic-title">🧛‍♂️ The Birth of Dracula</h1>
                            <p className="text-xl text-white opacity-90">Gothic Literature Mystery - Bram Stoker's Immortal Creation</p>
                        </div>

                        <DraculaGothicApp 
                            onComplete={(score) => handleExerciseComplete('dracula', score)}
                            isCompleted={completedExercises.dracula?.completed || false}
                        />
                    </div>
                </div>
            );
        };

        // Render the app
        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
